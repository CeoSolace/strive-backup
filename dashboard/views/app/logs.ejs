<% layout('layouts/app') -%>

<div class="flex flex-col gap-6">
  <div>
    <h1 class="text-2xl font-semibold tracking-tight">Logs</h1>
    <p class="mt-1 text-sm text-zinc-600 dark:text-zinc-300">Recent actions you performed on the dashboard.</p>
  </div>
  <% if (logs && logs.items && logs.items.length > 0) { %>
  <div class="rounded-2xl border border-zinc-200 dark:border-zinc-800 overflow-x-auto">
    <table class="min-w-full divide-y divide-zinc-200 dark:divide-zinc-800">
      <thead class="bg-zinc-50 dark:bg-zinc-900">
        <tr class="text-left text-xs uppercase tracking-wider text-zinc-500 dark:text-zinc-400">
          <th class="px-4 py-2">Time</th>
          <th class="px-4 py-2">Action</th>
          <th class="px-4 py-2">Guild</th>
        </tr>
      </thead>
      <tbody class="divide-y divide-zinc-200 dark:divide-zinc-800">
        <% logs.items.forEach(function(log) { %>
        <tr class="text-sm">
          <td class="px-4 py-2 text-zinc-600 dark:text-zinc-300"><%= new Date(log.createdAt).toLocaleString() %></td>
          <td class="px-4 py-2 font-mono"><%= log.action %></td>
          <td class="px-4 py-2 text-zinc-600 dark:text-zinc-300"><%= log.guildId || 'â€”' %></td>
        </tr>
        <% }); %>
      </tbody>
    </table>
  </div>
  <% } else { %>
  <div class="rounded-2xl border border-zinc-200 p-6 text-sm text-zinc-600 dark:border-zinc-800 dark:text-zinc-300">
    No audit logs yet.
  </div>
  <% } %>
</div>
